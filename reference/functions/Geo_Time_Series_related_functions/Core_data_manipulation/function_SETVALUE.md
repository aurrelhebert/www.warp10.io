---
title: "SETVALUE"
layout: "function"
isPage: "true"
link: "/warpscript/functions"
desc: "Adds a value to a GTS, overwriting the value at the given timestamp."
categoryTree: ["reference","functions"]
category: "reference"
---


The `SETVALUE` adds a value to a GTS. Expects 6 parameters on the stack.

    TOP: value
    1:   elevation (or NaN)
    2:   longitude (or NaN)
    3:   latitude (or NaN)
    4:   tick
    5:   GTS

## Example ##

Let's say that we have used the [`FETCH`]({{ site.baseurl}}/reference/functions/function_FETCH) function to recover a GTS with two values.

Initial stack:

~~~
TOP: [{"c":"com.cityzendata.tutorial.sensors.temperature","l":{".app":"doc.data",
     "sensorId":"01"},"a":{},"v":[[1389139200000000,21.5],[1389139140000000,21.3]]}]
~~~

We can use `SETVALUE` to override a value of the GTS.

  WarpScript commands:

~~~
1389139140000000  //tick
NaN  //latitude
NaN  //longitude
NaN  //elevation
42   //value
ADDVALUE
~~~

  Stack:

~~~
TOP: {"c":"com.cityzendata.tutorial.sensors.temperature","l":{".app":"doc.data",
     "sensorId":"01"},"a":{},"v":[[1389139200000000,21.5],[1389139140000000,42]]}
~~~

## Tips ##

The `SETVALUE`function only works on GTS, not on lists of GTS like those generated by the use of
[`FETCH`]({{ site.baseurl}}/reference/functions/function_FETCH). If you want to use `ADDVALUE` after a `FETCH`, you will need to extract the
GTS from the list, for example by using [`GET`]({{ site.baseurl}}/reference/functions/function_GET) with value 0 as parameter.


## Example ##

{% raw %}
<warp10-warpscript-widget backend="{{backend}}"  exec-endpoint="{{execEndpoint}}">//Let's recover a GTS with two elements
[
  '60VgNqxhAaCdS6_uOLtZNMGWAbGpS5xmPL4gAbC_QbCjRbBiS5KhR5KmNMGpRaJQ.cV3Aa4kR.WZQqBiO54oNFWnOLtnQr88O.7kBGQisxjnVyLaxkgLbUEd_RTgYDIS.Gg..4N.51sUXkV.........9q4VTOy_oyz.s52Pk..17jxbnv4oBEJt.kGb.MEwlSNT....4YkG..''
]
UNWRAP
NOW 'now' STORE

//Let's extract the GTS from the list
0 GET
//Let's add values to the GTS
$now NaN NaN NaN 40 ADDVALUE

// That's embarrassing, the real value is 42, replace it
$now NaN NaN NaN 42 SETVALUE

</warp10-warpscript-widget>
{% endraw %}
